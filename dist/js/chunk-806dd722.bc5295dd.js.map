{"version":3,"sources":["webpack:///./src/api/index.js","webpack:///./src/views/home/create.vue?bf31","webpack:///./src/views/home/create.vue?d49a","webpack:///src/views/home/create.vue","webpack:///./src/views/home/create.vue?b1b5","webpack:///./src/views/home/create.vue"],"names":["login","username","password","service","method","url","data","getBlogList","keyword","recommend","classify","page_size","currentPage","params","getBlogDetail","id","createNewBlog","title","content","recImg","subtitle","updateBlog","delBlog","artClassify","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","goBack","attrs","_v","_s","blogType","model","value","callback","$$v","expression","_l","item","key","switch_value","handlePreview","handleRemove","uploadSuccess","fileList","slot","ref","handleEditorImgAdd","handleOnSave","markdownValue","nativeOn","$event","staticRenderFns","classifyList","created","getArtClassifyList","initData","computed","type","methods","$router","go","$message","error","formdata","append","$file","headers","instance","post","then","res","errno","name","includes","replace","console","log","index","soure","slice","start","newStr","file","component"],"mappings":"kHAAA,8PAEaA,EAAQ,SAACC,EAAUC,GAAX,OAAwBC,eAAQ,CACnDC,OAAQ,OACRC,IAAK,kBACLC,KAAM,CACJL,WACAC,eAISK,EAAc,wEAAsF,GAAtF,IAAGC,eAAH,MAAa,GAAb,MAAiBC,iBAAjB,MAA6B,GAA7B,MAAiCC,gBAAjC,MAA4C,KAA5C,MAAkDC,iBAAlD,MAA8D,GAA9D,MAAkEC,mBAAlE,MAAgF,EAAhF,SAA6FT,eAAQ,CAC9HC,OAAQ,MACRC,IAAK,iBACLQ,OAAQ,CACNL,UACAC,YACAC,WACAC,YACAC,kBAISE,EAAgB,SAACC,GAAD,OAAQZ,eAAQ,CAC3CC,OAAQ,MACRC,IAAK,mBACLQ,OAAQ,CACNE,SAISC,EAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,QAAST,EAAnB,EAAmBA,UAAWC,EAA9B,EAA8BA,SAAUS,EAAxC,EAAwCA,OAAQC,EAAhD,EAAgDA,SAAhD,OAA+DjB,eAAQ,CAClGC,OAAQ,OACRC,IAAK,gBACLC,KAAM,CACJW,QACAC,UACAT,YACAC,WACAS,SACAC,eAISC,EAAa,SAACN,EAAD,OAAOE,EAAP,EAAOA,MAAOC,EAAd,EAAcA,QAAST,EAAvB,EAAuBA,UAAWC,EAAlC,EAAkCA,SAAUS,EAA5C,EAA4CA,OAAQC,EAApD,EAAoDA,SAApD,OAAmEjB,eAAQ,CACnGC,OAAQ,OACRC,IAAK,uBAAyBU,EAC9BT,KAAM,CACJW,QACAC,UACAT,YACAC,WACAS,SACAC,eAaSE,EAAU,SAACP,GAAD,OAAQZ,eAAQ,CACrCC,OAAQ,OACRC,IAAK,oBAAsBU,KAGhBQ,EAAc,kBAAMpB,eAAQ,CACvCC,OAAQ,MACRC,IAAK,4B,kCCzEP,yBAA4sB,EAAG,G,yCCA/sB,IAAImB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACE,YAAY,OAAOC,GAAG,CAAC,MAAQP,EAAIQ,SAAS,CAACJ,EAAG,WAAW,CAACK,MAAM,CAAC,UAAY,YAAYT,EAAIU,GAAG,QAAQ,GAAGN,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACE,YAAY,SAAS,CAACN,EAAIU,GAAGV,EAAIW,GAAGX,EAAIY,aAAaR,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIU,GAAG,WAAWN,EAAG,WAAW,CAACK,MAAM,CAAC,YAAc,SAASI,MAAM,CAACC,MAAOd,EAAS,MAAEe,SAAS,SAAUC,GAAMhB,EAAIR,MAAMwB,GAAKC,WAAW,YAAY,GAAGb,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIU,GAAG,WAAWN,EAAG,YAAY,CAACK,MAAM,CAAC,UAAY,GAAG,YAAc,aAAaI,MAAM,CAACC,MAAOd,EAAS,MAAEe,SAAS,SAAUC,GAAMhB,EAAIc,MAAME,GAAKC,WAAW,UAAUjB,EAAIkB,GAAIlB,EAAgB,cAAE,SAASmB,GAAM,OAAOf,EAAG,YAAY,CAACgB,IAAID,EAAKV,MAAM,CAAC,MAAQU,EAAK,MAAQA,QAAU,IAAI,GAAGf,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIU,GAAG,WAAWN,EAAG,YAAY,CAACK,MAAM,CAAC,eAAe,UAAU,iBAAiB,UAAU,eAAe,EAAE,iBAAiB,GAAGI,MAAM,CAACC,MAAOd,EAAgB,aAAEe,SAAS,SAAUC,GAAMhB,EAAIqB,aAAaL,GAAKC,WAAW,mBAAmB,GAAGb,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIU,GAAG,WAAWN,EAAG,YAAY,CAACE,YAAY,cAAcG,MAAM,CAAC,OAAS,qDAAqD,aAAaT,EAAIsB,cAAc,YAAYtB,EAAIuB,aAAa,aAAavB,EAAIwB,cAAc,YAAYxB,EAAIyB,SAAS,YAAY,YAAY,CAACrB,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAY,CAACT,EAAIU,GAAG,UAAUN,EAAG,MAAM,CAACE,YAAY,iBAAiBG,MAAM,CAAC,KAAO,OAAOiB,KAAK,OAAO,CAAC1B,EAAIU,GAAG,8BAA8B,IAAI,GAAGN,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIU,GAAG,WAAWN,EAAG,WAAW,CAACK,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAc,SAASI,MAAM,CAACC,MAAOd,EAAY,SAAEe,SAAS,SAAUC,GAAMhB,EAAIL,SAASqB,GAAKC,WAAW,eAAe,GAAGb,EAAG,eAAe,CAACuB,IAAI,KAAKpB,GAAG,CAAC,OAASP,EAAI4B,mBAAmB,KAAO5B,EAAI6B,cAAchB,MAAM,CAACC,MAAOd,EAAiB,cAAEe,SAAS,SAAUC,GAAMhB,EAAI8B,cAAcd,GAAKC,WAAW,mBAAmBb,EAAG,YAAY,CAACE,YAAY,OAAOG,MAAM,CAAC,KAAO,WAAWsB,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAOhC,EAAI6B,aAAaG,MAAW,CAAChC,EAAIU,GAAG,SAAS,MAChzEuB,EAAkB,G,mHCyCtB,GACEpD,KADF,WAEI,MAAO,CACLW,MAAO,GACPsC,cAAe,GACfnC,SAAU,GACVuC,aAAc,GACdpB,MAAO,GACPO,aAAc,GACdI,SAAU,GACV/B,OAAQ,KAGZyC,QAbF,WAcIlC,KAAKmC,qBACLnC,KAAKoC,YAEPC,SAAU,CACR1B,SADJ,WAEM,IAAN,yBACM,MAAa,QAAT2B,EACK,OACf,WACe,YADf,IAKEC,QAAS,CACPhC,OADJ,WAEMP,KAAKwC,QAAQC,IAAI,IAEnBL,SAJJ,WAIA,WACM,GAAsB,SAAlBpC,KAAKW,SAAT,CACA,IAAN,uBACM,OAAN,OAAM,CAAN,qBACQ,EAAR,6BACQ,EAAR,sBACQ,EAAR,8BACQ,EAAR,mBACQ,EAAR,uCACQ,EAAR,8BAIIiB,aAjBJ,WAiBA,WACM,GAAK5B,KAAKT,MAIV,GAAKS,KAAKa,MAIV,GAAKb,KAAKN,UAIV,GAAsB,SAAlBM,KAAKW,SACP,OAAR,OAAQ,CAAR,CACUpB,MAAOS,KAAKT,MAAZ,QAAV,mBAAU,UAAV,kBAAU,SAAV,WAAU,OAAV,YAAU,SAAV,gBACA,kBACU,EAAV,iCAEA,2BACQ,IAAR,uBACQ,OAAR,OAAQ,CAAR,GACUA,MAAOS,KAAKT,MAAZ,QAAV,mBAAU,UAAV,kBAAU,SAAV,WAAU,OAAV,YAAU,SAAV,gBACA,kBACU,EAAV,kCAdQS,KAAK0C,SAASC,MAAM,iBAJpB3C,KAAK0C,SAASC,MAAM,gBAJpB3C,KAAK0C,SAASC,MAAM,WA2BxBhB,mBA9CJ,SA8CA,gBACA,eACMiB,EAASC,OAAO,OAAQC,GACxB,IAAN,cACQC,QAAS,CAAjB,wCAGMC,EAASC,KAAK,qDAAsDL,GAAUM,MAAK,SAAzF,GACQ,GAAuB,IAAnBC,EAAIvE,KAAKwE,MAAa,CACxB,EAAV,yBACU,IAAV,sBACA,SACcC,EAAKC,SAAS,OAChBD,EAAOA,EAAKE,QAAQ,KAAM,KAE5B,IAAV,kBAEU,GAAI/D,EAAQ8D,SAASD,GAAO,CAC1B,IAAZ,oBACA,6EACA,eACYG,QAAQC,IAAI,QAASC,GACrB,IAAZ,kBACA,kBACc,OAAOC,EAAMC,MAAM,EAAGC,GAASC,EAASH,EAAMC,MAAMC,IAEtDL,QAAQC,IAAI,MAAO,EAA/B,eACY,EAAZ,uBACYD,QAAQC,IAAI,MAAO,EAA/B,qBAGU,EAAV,mCAIInC,aAjFJ,SAiFA,KACMkC,QAAQC,IAAIM,EAAMvC,IAEpBH,cApFJ,SAoFA,GACMmC,QAAQC,IAAIM,IAEdxC,cAvFJ,SAuFA,OACM,IAAN,iBACMvB,KAAKP,OAAS,6BAApB,0CAGI0C,mBA5FJ,WA4FA,WACM,OAAN,OAAM,GAAN,kBACQ,EAAR,0BCnKmc,I,wBCQ/b6B,EAAY,eACd,EACAlE,EACAkC,GACA,EACA,KACA,WACA,MAIa,aAAAgC,E","file":"js/chunk-806dd722.bc5295dd.js","sourcesContent":["import { service } from '@/utils/request'\r\n\r\nexport const login = (username, password) => service({\r\n  method: 'POST',\r\n  url: '/api/user/login',\r\n  data: {\r\n    username,\r\n    password\r\n  },\r\n})\r\n\r\nexport const getBlogList = ({ keyword = '', recommend = '', classify = '全部', page_size = 10, currentPage = 1 } = {}) => service({\r\n  method: 'GET',\r\n  url: '/api/blog/list',\r\n  params: {\r\n    keyword,\r\n    recommend,\r\n    classify,\r\n    page_size,\r\n    currentPage\r\n  }\r\n})\r\n\r\nexport const getBlogDetail = (id) => service({\r\n  method: 'GET',\r\n  url: '/api/blog/detail',\r\n  params: {\r\n    id\r\n  }\r\n})\r\n\r\nexport const createNewBlog = ({ title, content, recommend, classify, recImg, subtitle }) => service({\r\n  method: 'POST',\r\n  url: '/api/blog/new',\r\n  data: {\r\n    title,\r\n    content,\r\n    recommend,\r\n    classify,\r\n    recImg,\r\n    subtitle\r\n  }\r\n})\r\n\r\nexport const updateBlog = (id, { title, content, recommend, classify, recImg, subtitle }) => service({\r\n  method: 'POST',\r\n  url: '/api/blog/update?id=' + id,\r\n  data: {\r\n    title,\r\n    content,\r\n    recommend,\r\n    classify,\r\n    recImg,\r\n    subtitle\r\n  }\r\n})\r\n\r\nexport const switchrecommend = (id, recommend) => service({\r\n  method: 'POST',\r\n  url: '/api/blog/switchRecommend',\r\n  data: {\r\n    id,\r\n    recommend\r\n  }\r\n})\r\n\r\nexport const delBlog = (id) => service({\r\n  method: 'POST',\r\n  url: '/api/blog/del?id=' + id,\r\n})\r\n\r\nexport const artClassify = () => service({\r\n  method: 'GET',\r\n  url: '/api/blog/artClassify'\r\n})","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=6d1f4208&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=6d1f4208&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('span',{staticClass:\"back\",on:{\"click\":_vm.goBack}},[_c('svg-icon',{attrs:{\"iconClass\":\"fanhui\"}}),_vm._v(\"返回 \")],1),_c('div',{staticClass:\"blog-edit-add\"},[_c('h4',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.blogType))]),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"博客标题：\")]),_c('el-input',{attrs:{\"placeholder\":\"请输入内容\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"博客类型：\")]),_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择Blog类型\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},_vm._l((_vm.classifyList),function(item){return _c('el-option',{key:item,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"是否推荐：\")]),_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-value\":1,\"inactive-value\":0},model:{value:(_vm.switch_value),callback:function ($$v) {_vm.switch_value=$$v},expression:\"switch_value\"}})],1),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"推荐图片：\")]),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"http://120.78.165.228/api/file/uploadFile/multiple\",\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"on-success\":_vm.uploadSuccess,\"file-list\":_vm.fileList,\"list-type\":\"picture\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png文件，且不超过500kb\")])],1)],1),_c('div',{staticClass:\"item\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"文章说明：\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请输入内容\"},model:{value:(_vm.subtitle),callback:function ($$v) {_vm.subtitle=$$v},expression:\"subtitle\"}})],1),_c('mavon-editor',{ref:\"md\",on:{\"imgAdd\":_vm.handleEditorImgAdd,\"save\":_vm.handleOnSave},model:{value:(_vm.markdownValue),callback:function ($$v) {_vm.markdownValue=$$v},expression:\"markdownValue\"}}),_c('el-button',{staticClass:\"save\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.handleOnSave($event)}}},[_vm._v(\"保存\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <span class=\"back\" @click=\"goBack\">\r\n      <svg-icon iconClass=\"fanhui\"></svg-icon>返回\r\n    </span>\r\n    <div class=\"blog-edit-add\">\r\n      <h4 class=\"title\">{{blogType}}</h4>\r\n      <div class=\"item\">\r\n        <span class=\"label\">博客标题：</span>\r\n        <el-input v-model=\"title\" placeholder=\"请输入内容\"></el-input>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span class=\"label\">博客类型：</span>\r\n        <el-select v-model=\"value\" clearable placeholder=\"请选择Blog类型\">\r\n          <el-option v-for=\"item in classifyList\" :key=\"item\" :label=\"item\" :value=\"item\"></el-option>\r\n        </el-select>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span class=\"label\">是否推荐：</span>\r\n        <el-switch v-model=\"switch_value\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span class=\"label\">推荐图片：</span>\r\n        <el-upload class=\"upload-demo\" action=\"http://120.78.165.228/api/file/uploadFile/multiple\" :on-preview=\"handlePreview\" :on-remove=\"handleRemove\" :on-success=\"uploadSuccess\" :file-list=\"fileList\" list-type=\"picture\">\r\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n          <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\r\n        </el-upload>\r\n      </div>\r\n      <div class=\"item\">\r\n        <span class=\"label\">文章说明：</span>\r\n        <el-input type=\"textarea\" :rows=\"2\" placeholder=\"请输入内容\" v-model=\"subtitle\">\r\n        </el-input>\r\n      </div>\r\n      <mavon-editor v-model=\"markdownValue\" ref=md @imgAdd=\"handleEditorImgAdd\" @save=\"handleOnSave\" />\r\n      <el-button type=\"primary\" class=\"save\" @click.native=\"handleOnSave\">保存</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getBlogDetail, createNewBlog, updateBlog, artClassify } from \"../../api/index.js\";\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      title: \"\",\r\n      markdownValue: \"\", //markdown编辑器内容\r\n      subtitle: '',\r\n      classifyList: [],\r\n      value: \"\",\r\n      switch_value: \"\",\r\n      fileList: [],\r\n      recImg: ''\r\n    };\r\n  },\r\n  created () {\r\n    this.getArtClassifyList()\r\n    this.initData()\r\n  },\r\n  computed: {\r\n    blogType () {\r\n      let type = this.$route.query.type;\r\n      if (type === \"add\") {\r\n        return \"新增博客\";\r\n      } else if (type === \"edit\") {\r\n        return \"更新博客\";\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    goBack () {\r\n      this.$router.go(-1);\r\n    },\r\n    initData () {\r\n      if (this.blogType !== '更新博客') return\r\n      let id = this.$route.query.id;\r\n      getBlogDetail(id).then(res => {\r\n        this.markdownValue = res.data.content\r\n        this.value = res.data.classify\r\n        this.switch_value = res.data.recommend\r\n        this.title = res.data.title\r\n        this.fileList = [{ name: '', url: res.data.recImg }]\r\n        this.subtitle = res.data.subtitle\r\n      })\r\n    },\r\n    // 保存文章\r\n    handleOnSave () {\r\n      if (!this.title) {\r\n        this.$message.error('标题不能为空')\r\n        return\r\n      }\r\n      if (!this.value) {\r\n        this.$message.error('请选择文章类型')\r\n        return\r\n      }\r\n      if (!this.subtitle) {\r\n        this.$message.error('文章说明不能为空')\r\n        return\r\n      }\r\n      if (this.blogType === '新增博客') {\r\n        createNewBlog({\r\n          title: this.title, content: this.markdownValue, recommend: this.switch_value, classify: this.value, recImg: this.recImg, subtitle: this.subtitle\r\n        }).then(res => {\r\n          this.$message.success('新建成功')\r\n        })\r\n      } else if (this.blogType === '更新博客') {\r\n        let id = this.$route.query.id;\r\n        updateBlog(id, {\r\n          title: this.title, content: this.markdownValue, recommend: this.switch_value, classify: this.value, recImg: this.recImg, subtitle: this.subtitle\r\n        }).then(res => {\r\n          this.$message.success('更新成功')\r\n        })\r\n      }\r\n    },\r\n    // 文件上传\r\n    handleEditorImgAdd (pos, $file) {\r\n      let formdata = new FormData()\r\n      formdata.append('file', $file)\r\n      let instance = axios.create({\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      })\r\n      // instance.post('http://localhost:3000/file/uploadFile/multiple', formdata).then(res => {\r\n      instance.post('http://120.78.165.228/api/file/uploadFile/multiple', formdata).then(res => {\r\n        if (res.data.errno === 0) {\r\n          this.$message.success('上传成功')\r\n          let url = res.data.data.file[0]\r\n          let name = $file.name\r\n          if (name.includes('-')) {\r\n            name = name.replace(/-/g, '')\r\n          }\r\n          let content = this.markdownValue\r\n          // 第二步.将返回的url替换到文本原位置![...](0) -> ![...](url)  这里是必须要有的\r\n          if (content.includes(name)) {\r\n            let oStr = `(${pos})` // 第几个图片\r\n            let nStr = `(http://120.78.165.228/api/${url.destination}${url.filename})`\r\n            let index = content.indexOf(oStr)\r\n            console.log('index', index)\r\n            let str = content.replace(oStr, '')\r\n            let insertStr = (soure, start, newStr) => {\r\n              return soure.slice(0, start) + newStr + soure.slice(start)\r\n            }\r\n            console.log('old', this.markdownValue)\r\n            this.markdownValue = insertStr(str, index, nStr)\r\n            console.log('new', this.markdownValue)\r\n          }\r\n        } else {\r\n          this.$message.error(res.data.message)\r\n        }\r\n      })\r\n    },\r\n    handleRemove (file, fileList) {\r\n      console.log(file, fileList);\r\n    },\r\n    handlePreview (file) {\r\n      console.log(file);\r\n    },\r\n    uploadSuccess (response, file, fileList) {\r\n      let url = response.data.file[0]\r\n      this.recImg = `http://120.78.165.228/api/${url.destination}${url.filename}`\r\n    },\r\n    // 获取分类列表\r\n    getArtClassifyList () {\r\n      artClassify().then(res => {\r\n        this.classifyList = res.data\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n  text-align: left;\r\n  width: 100%;\r\n  padding: 20px 80px 20px 40px;\r\n  .back {\r\n    height: 40px;\r\n    padding: 4px;\r\n    cursor: pointer;\r\n    .svg-icon {\r\n      margin-right: 6px;\r\n    }\r\n  }\r\n  .blog-edit-add {\r\n    position: relative;\r\n    padding-bottom: 60px;\r\n    margin-bottom: 20px;\r\n    .title {\r\n      text-align: center !important;\r\n      margin-bottom: 40px;\r\n    }\r\n    .item {\r\n      margin-bottom: 20px;\r\n      box-sizing: border-box;\r\n      display: flex;\r\n      align-items: center;\r\n      .label {\r\n        display: inline-block;\r\n        width: 90px;\r\n        text-align: left;\r\n        margin-right: 10px;\r\n      }\r\n      .upload-demo {\r\n        display: inline-block;\r\n      }\r\n      /deep/.el-input {\r\n        width: 200px;\r\n      }\r\n      .el-textarea {\r\n        width: 300px;\r\n      }\r\n    }\r\n    .save {\r\n      position: absolute;\r\n      bottom: 0;\r\n      right: 0;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=6d1f4208&scoped=true&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create.vue?vue&type=style&index=0&id=6d1f4208&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d1f4208\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}